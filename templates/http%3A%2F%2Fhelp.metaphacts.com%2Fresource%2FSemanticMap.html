<ol class="page-breadcrumb">
  <li>
    <mp-link title="Home" url="/">Home</mp-link>
  </li>
  <li>
    <semantic-link title="Help" uri="http://help.metaphacts.com/resource/Start">Help</semantic-link>
  </li>
  <li>
    <semantic-link title="Documentation" uri="http://help.metaphacts.com/resource/DocumentationOverview">Documentation</semantic-link>
  </li>
  <li>
    <semantic-link title="Components" uri="http://help.metaphacts.com/resource/HTML5Components">Components</semantic-link>
  </li>
  <li class="active">Map Component</li>
</ol>

<div class="page">
    <div class='page__body'>
      <h1> Map Component </h1>
    <div class="documentation__intro">
      <div class="documentation__intro__description">
          Used for displaying spatial data on a map.
          <ul>
            <li>WKT point/polygons are supported, however, currently only be approximated as simple markers on the map. </li>
            <li>Coordinates are assumed to be in EPSG:4326 (WGS84) and will be transformed internally to EPSG:3857</li>
          </ul>
      </div>
      <div class="documentation__intro__demo" >
       <semantic-map
            query='
              SELECT ?lat ?lng ?description ?link ?icon WHERE {
                VALUES(?lat ?lng ?description ?link ?icon) {
                  ("49.289883" "8.644730" "Metaphacts GmbH" <http://www.wikidata.org/entity/Q22132500> "/metaphacts/branding/metaphacts-logo.png")
                  ("51.9500" "7.6240" "Münster City" <http://www.wikidata.org/entity/Q2742>  "/images/help/thenounproject/noun_1285331.svg")
                }
              }
            '
            tuple-template='<b>{{description.value}}</b> <img style="width: 89px" src="{{icon.value}}" /> <br><a href="https://wikidata.metaphacts.com/resource/?uri={{link.value}}" target="_blank">Open in wikidata</a>'
            ></semantic-map>
      </div>
    </div>

    <h2>Configuration </h2>
    <mp-documentation type="SemanticMapConfig"></mp-documentation>

    <h2>Examples </h2>

    <h3>Map using latitude and longitude</h3>
    <div>
    <mp-code-example>
<![CDATA[
<semantic-map
  query='
    SELECT ?lat ?lng ?description ?link WHERE {
      VALUES(?lat ?lng ?description ?link) {
        ("49.289883" "8.644730" "Metaphacts GmbH" <http://www.wikidata.org/entity/Q22132500>)
        ("51.9500" "7.6240" "Münster City" <http://www.wikidata.org/entity/Q2742>)
      }
    }
  '
 tuple-template='<b>{{description.value}}</b><br><a href="https://wikidata.metaphacts.com/resource/?uri={{link.value}}" target="_blank">Open in wikidata</a>'
></semantic-map>
]]>
    </mp-code-example>
    </div>

    <h3>Map using WKT Point Literal</h3>
    <div class="documentation">
    <mp-code-example>
<![CDATA[
<semantic-map
  query='
    SELECT ?wkt ?description ?link WHERE {
      VALUES(?wkt ?description ?link) {
        ("Point(8.644730 49.289883)" "Metaphacts GmbH"  <http://www.wikidata.org/entity/Q22132500>)
      }
    }
  '
  tuple-template='<b>{{description.value}}</b><br><a href="https://wikidata.metaphacts.com/resource/?uri={{link.value}}" target="_blank">Open in wikidata</a>'
></semantic-map>
]]>
    </mp-code-example>
    </div>

    <h3>Map with inital zoom level</h3>
    <h4>Map with initial zoom set to maximum (fix-zoom-level=16) and marker popup shows a picture using the tuple-template</h4>
    <div class="documentation">
    <mp-code-example>
<![CDATA[
  	<semantic-map
    	query='
    	  SELECT ?wkt ?description ?link ?icon WHERE {
    	    VALUES(?wkt ?description ?link ?icon) {
    	      ("Point(8.644730 49.289883)" "Metaphacts GmbH"  <http://www.wikidata.org/entity/Q22132500> "/metaphacts/branding/metaphacts-logo.png")
    	    }
   	   }'
    	fix-zoom-level=16
    	tuple-template='<b>{{description.value}}</b><img style="width: 89px" src="{{icon.value}}" /><br><a href="https://wikidata.metaphacts.com/resource/?	 uri={{link.value}}" target="_blank">Open in wikidata</a>'
		  ></semantic-map>
]]>
    </mp-code-example>
    </div>
  </div>
</div>
